{"version":3,"file":"DZvsN4YH.js","sources":["../../../../node_modules/nuxt/dist/app/components/nuxt-layout.js"],"sourcesContent":["import { Suspense, Transition, computed, defineComponent, h, inject, mergeProps, nextTick, onMounted, provide, ref, unref } from \"vue\";\nimport { useRoute, useRouter } from \"../composables/router.js\";\nimport { useNuxtApp } from \"../nuxt.js\";\nimport { _wrapIf } from \"./utils.js\";\nimport { LayoutMetaSymbol, PageRouteSymbol } from \"./injections.js\";\nimport { useRoute as useVueRouterRoute } from \"#build/pages\";\nimport layouts from \"#build/layouts\";\nimport { appLayoutTransition as defaultLayoutTransition } from \"#build/nuxt.config.mjs\";\nconst LayoutLoader = defineComponent({\n  name: \"LayoutLoader\",\n  inheritAttrs: false,\n  props: {\n    name: String,\n    layoutProps: Object\n  },\n  async setup(props, context) {\n    const LayoutComponent = await layouts[props.name]().then((r) => r.default || r);\n    return () => h(LayoutComponent, props.layoutProps, context.slots);\n  }\n});\nexport default defineComponent({\n  name: \"NuxtLayout\",\n  inheritAttrs: false,\n  props: {\n    name: {\n      type: [String, Boolean, Object],\n      default: null\n    },\n    fallback: {\n      type: [String, Object],\n      default: null\n    }\n  },\n  setup(props, context) {\n    const nuxtApp = useNuxtApp();\n    const injectedRoute = inject(PageRouteSymbol);\n    const route = injectedRoute === useRoute() ? useVueRouterRoute() : injectedRoute;\n    const layout = computed(() => {\n      let layout2 = unref(props.name) ?? route.meta.layout ?? \"default\";\n      if (layout2 && !(layout2 in layouts)) {\n        if (import.meta.dev && layout2 !== \"default\") {\n          console.warn(`Invalid layout \\`${layout2}\\` selected.`);\n        }\n        if (props.fallback) {\n          layout2 = unref(props.fallback);\n        }\n      }\n      return layout2;\n    });\n    const layoutRef = ref();\n    context.expose({ layoutRef });\n    const done = nuxtApp.deferHydration();\n    if (import.meta.client && nuxtApp.isHydrating) {\n      const removeErrorHook = nuxtApp.hooks.hookOnce(\"app:error\", done);\n      useRouter().beforeEach(removeErrorHook);\n    }\n    if (import.meta.dev) {\n      nuxtApp._isNuxtLayoutUsed = true;\n    }\n    return () => {\n      const hasLayout = layout.value && layout.value in layouts;\n      const transitionProps = route.meta.layoutTransition ?? defaultLayoutTransition;\n      return _wrapIf(Transition, hasLayout && transitionProps, {\n        default: () => h(Suspense, { suspensible: true, onResolve: () => {\n          nextTick(done);\n        } }, {\n          default: () => h(\n            LayoutProvider,\n            {\n              layoutProps: mergeProps(context.attrs, { ref: layoutRef }),\n              key: layout.value || void 0,\n              name: layout.value,\n              shouldProvide: !props.name,\n              hasTransition: !!transitionProps\n            },\n            context.slots\n          )\n        })\n      }).default();\n    };\n  }\n});\nconst LayoutProvider = defineComponent({\n  name: \"NuxtLayoutProvider\",\n  inheritAttrs: false,\n  props: {\n    name: {\n      type: [String, Boolean]\n    },\n    layoutProps: {\n      type: Object\n    },\n    hasTransition: {\n      type: Boolean\n    },\n    shouldProvide: {\n      type: Boolean\n    }\n  },\n  setup(props, context) {\n    const name = props.name;\n    if (props.shouldProvide) {\n      provide(LayoutMetaSymbol, {\n        isCurrent: (route) => name === (route.meta.layout ?? \"default\")\n      });\n    }\n    let vnode;\n    if (import.meta.dev && import.meta.client) {\n      onMounted(() => {\n        nextTick(() => {\n          if ([\"#comment\", \"#text\"].includes(vnode?.el?.nodeName)) {\n            if (name) {\n              console.warn(`[nuxt] \\`${name}\\` layout does not have a single root node and will cause errors when navigating between routes.`);\n            } else {\n              console.warn(\"[nuxt] `<NuxtLayout>` needs to be passed a single root node in its default slot.\");\n            }\n          }\n        });\n      });\n    }\n    return () => {\n      if (!name || typeof name === \"string\" && !(name in layouts)) {\n        if (import.meta.dev && import.meta.client && props.hasTransition) {\n          vnode = context.slots.default?.();\n          return vnode;\n        }\n        return context.slots.default?.();\n      }\n      if (import.meta.dev && import.meta.client && props.hasTransition) {\n        vnode = h(\n          LayoutLoader,\n          { key: name, layoutProps: props.layoutProps, name },\n          context.slots\n        );\n        return vnode;\n      }\n      return h(\n        LayoutLoader,\n        { key: name, layoutProps: props.layoutProps, name },\n        context.slots\n      );\n    };\n  }\n});\n"],"names":["LayoutLoader","defineComponent","props","context","LayoutComponent","layouts","r","h","__nuxt_component_3","nuxtApp","useNuxtApp","injectedRoute","inject","PageRouteSymbol","route","useRoute","useVueRouterRoute","layout","computed","layout2","unref","layoutRef","ref","done","removeErrorHook","useRouter","hasLayout","transitionProps","defaultLayoutTransition","_wrapIf","Transition","Suspense","nextTick","LayoutProvider","mergeProps","name","provide","LayoutMetaSymbol","_b","_a"],"mappings":"oYAQA,MAAMA,EAAeC,EAAgB,CACnC,KAAM,eACN,aAAc,GACd,MAAO,CACL,KAAM,OACN,YAAa,MACd,EACD,MAAM,MAAMC,EAAOC,EAAS,CAC1B,MAAMC,EAAkB,MAAMC,EAAQH,EAAM,IAAI,EAAC,EAAG,KAAMI,GAAMA,EAAE,SAAWA,CAAC,EAC9E,MAAO,IAAMC,EAAEH,EAAiBF,EAAM,YAAaC,EAAQ,KAAK,CAClE,CACF,CAAC,EACDK,EAAeP,EAAgB,CAC7B,KAAM,aACN,aAAc,GACd,MAAO,CACL,KAAM,CACJ,KAAM,CAAC,OAAQ,QAAS,MAAM,EAC9B,QAAS,IACV,EACD,SAAU,CACR,KAAM,CAAC,OAAQ,MAAM,EACrB,QAAS,IACX,CACD,EACD,MAAMC,EAAOC,EAAS,CACpB,MAAMM,EAAUC,IACVC,EAAgBC,EAAOC,CAAe,EACtCC,EAAQH,IAAkBI,EAAU,EAAGC,EAAiB,EAAKL,EAC7DM,EAASC,EAAS,IAAM,CAC5B,IAAIC,EAAUC,EAAMlB,EAAM,IAAI,GAAKY,EAAM,KAAK,QAAU,UACxD,OAAIK,GAAW,EAAEA,KAAWd,IAItBH,EAAM,WACRiB,EAAUC,EAAMlB,EAAM,QAAQ,GAG3BiB,CACb,CAAK,EACKE,EAAYC,IAClBnB,EAAQ,OAAO,CAAE,UAAAkB,CAAS,CAAE,EAC5B,MAAME,EAAOd,EAAQ,iBACrB,GAA0BA,EAAQ,YAAa,CAC7C,MAAMe,EAAkBf,EAAQ,MAAM,SAAS,YAAac,CAAI,EAChEE,EAAW,EAAC,WAAWD,CAAe,CACxC,CAIA,MAAO,IAAM,CACX,MAAME,EAAYT,EAAO,OAASA,EAAO,SAASZ,EAC5CsB,EAAkBb,EAAM,KAAK,kBAAoBc,EACvD,OAAOC,EAAQC,EAAYJ,GAAaC,EAAiB,CACvD,QAAS,IAAMpB,EAAEwB,EAAU,CAAE,YAAa,GAAM,UAAW,IAAM,CAC/DC,EAAST,CAAI,CACvB,GAAa,CACH,QAAS,IAAMhB,EACb0B,EACA,CACE,YAAaC,EAAW/B,EAAQ,MAAO,CAAE,IAAKkB,EAAW,EACzD,IAAKJ,EAAO,OAAS,OACrB,KAAMA,EAAO,MACb,cAAe,CAACf,EAAM,KACtB,cAAe,CAAC,CAACyB,CAClB,EACDxB,EAAQ,KACV,CACV,CAAS,CACT,CAAO,EAAE,QAAO,CAChB,CACE,CACF,CAAC,EACK8B,EAAiBhC,EAAgB,CACrC,KAAM,qBACN,aAAc,GACd,MAAO,CACL,KAAM,CACJ,KAAM,CAAC,OAAQ,OAAO,CACvB,EACD,YAAa,CACX,KAAM,MACP,EACD,cAAe,CACb,KAAM,OACP,EACD,cAAe,CACb,KAAM,OACR,CACD,EACD,MAAMC,EAAOC,EAAS,CACpB,MAAMgC,EAAOjC,EAAM,KACnB,OAAIA,EAAM,eACRkC,EAAQC,EAAkB,CACxB,UAAYvB,GAAUqB,KAAUrB,EAAM,KAAK,QAAU,UAC7D,CAAO,EAgBI,IAAM,SACX,MAAI,CAACqB,GAAQ,OAAOA,GAAS,UAAY,EAAEA,KAAQ9B,IAK1CiC,GAAAC,EAAApC,EAAQ,OAAM,UAAd,YAAAmC,EAAA,KAAAC,GAUFhC,EACLP,EACA,CAAE,IAAKmC,EAAM,YAAajC,EAAM,YAAa,KAAAiC,CAAM,EACnDhC,EAAQ,KAChB,CACA,CACE,CACF,CAAC","x_google_ignoreList":[0]}